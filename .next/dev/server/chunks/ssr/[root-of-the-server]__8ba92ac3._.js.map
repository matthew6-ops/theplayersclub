{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/matthelfer/Documents/theplayersclub/app/components/SportTabs.tsx"],"sourcesContent":["\"use client\";\n\ntype SportTabsProps = {\n  activeSport: string;\n  onChange: (sport: string) => void;\n  sports: { key: string; label: string }[];\n};\n\nexport default function SportTabs({\n  activeSport,\n  onChange,\n  sports,\n}: SportTabsProps) {\n  const allTabs = [{ key: \"all\", label: \"All\" }, ...sports];\n\n  return (\n    <div className=\"-mx-4 border-y border-white/5 bg-white/5/0 bg-gradient-to-r from-[#0c0a12]/70 via-[#09080f]/50 to-[#0b0a14]/70 px-4 pb-3 pt-3 backdrop-blur lg:-mx-10 lg:px-10\">\n      <div className=\"flex gap-2 overflow-x-auto pb-1 text-[11px] uppercase tracking-[0.15em] text-white/70\">\n        {allTabs.map((s) => (\n          <button\n            key={s.key}\n            type=\"button\"\n            onClick={() => onChange(s.key)}\n            className={`whitespace-nowrap rounded-full px-4 py-2 font-semibold transition ${\n              activeSport === s.key\n                ? \"bg-gradient-to-r from-[#fcd37b] to-[#f29d38] text-black shadow-lg shadow-[#fcd37b]/40\"\n                : \"bg-white/5 text-white/70 hover:bg-white/10\"\n            }`}\n          >\n            {s.label}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAQe,SAAS,UAAU,EAChC,WAAW,EACX,QAAQ,EACR,MAAM,EACS;IACf,MAAM,UAAU;QAAC;YAAE,KAAK;YAAO,OAAO;QAAM;WAAM;KAAO;IAEzD,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACZ,QAAQ,GAAG,CAAC,CAAC,kBACZ,8OAAC;oBAEC,MAAK;oBACL,SAAS,IAAM,SAAS,EAAE,GAAG;oBAC7B,WAAW,CAAC,kEAAkE,EAC5E,gBAAgB,EAAE,GAAG,GACjB,0FACA,8CACJ;8BAED,EAAE,KAAK;mBATH,EAAE,GAAG;;;;;;;;;;;;;;;AAetB"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/matthelfer/Documents/theplayersclub/app/components/GameCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\n\ntype GameCardProps = {\n  game: any;\n};\n\ntype LineInfo = {\n  price: number;\n  bookmaker: string;\n};\n\nconst STAKE_UNIT = 100;\n\nfunction formatTime(commence: string | undefined) {\n  if (!commence) return \"TBD\";\n  const dt = new Date(commence);\n  if (Number.isNaN(dt.getTime())) return commence;\n  return dt.toLocaleString(undefined, {\n    weekday: \"long\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  });\n}\n\nfunction decimalToAmerican(decimal?: number | null) {\n  if (!decimal || decimal <= 1) return \"-\";\n  if (decimal >= 2) return `+${Math.round((decimal - 1) * 100)}`;\n  return `${Math.round(-100 / (decimal - 1))}`;\n}\n\nfunction buildBestLines(bookmakers: any[], teams: string[]): Record<string, LineInfo | null> {\n  const best: Record<string, LineInfo | null> = {};\n  teams.forEach((t) => (best[t] = null));\n\n  bookmakers?.forEach((bm: any) => {\n    const h2h = bm?.markets?.find?.((m: any) => m?.key === \"h2h\");\n    h2h?.outcomes?.forEach((o: any) => {\n      if (!o?.name || typeof o.price !== \"number\") return;\n      if (!teams.includes(o.name)) return;\n      if (!best[o.name] || o.price > (best[o.name]?.price ?? 0)) {\n        best[o.name] = {\n          price: o.price,\n          bookmaker: bm?.title ?? bm?.key ?? \"Book\",\n        };\n      }\n    });\n  });\n\n  return best;\n}\n\nfunction computeFairProbabilities(best: Record<string, number>) {\n  const entries = Object.entries(best).filter(([, price]) => price > 0);\n  const implied = entries.map(([team, price]) => [team, 1 / price] as const);\n  const total = implied.reduce((sum, [, p]) => sum + p, 0);\n  if (!total) return {} as Record<string, number>;\n  return implied.reduce((acc, [team, imp]) => {\n    acc[team] = imp / total;\n    return acc;\n  }, {} as Record<string, number>);\n}\n\nfunction calcEvPercent(fairProb: number | undefined, decimalOdds: number | undefined) {\n  if (!fairProb || !decimalOdds) return null;\n  const ev = fairProb * (decimalOdds - 1) - (1 - fairProb);\n  return ev * 100;\n}\n\nfunction calcArbBreakdown(best: Record<string, number>, stake: number) {\n  const teams = Object.keys(best);\n  if (teams.length !== 2) return null;\n  const [teamA, teamB] = teams;\n  const priceA = best[teamA];\n  const priceB = best[teamB];\n  if (!priceA || !priceB) return null;\n\n  const invA = 1 / priceA;\n  const invB = 1 / priceB;\n  const sum = invA + invB;\n  if (sum >= 1) return null;\n\n  const stakeA = (stake * invA) / sum;\n  const stakeB = (stake * invB) / sum;\n  const profitPercent = (1 - sum) * 100;\n\n  return {\n    profitPercent,\n    stakes: {\n      [teamA]: stakeA,\n      [teamB]: stakeB,\n    },\n  } as const;\n}\n\nexport default function GameCard({ game }: GameCardProps) {\n  const home = game?.home_team ?? \"Home\";\n  const away = game?.away_team ?? \"Away\";\n  const bookmakers = game?.bookmakers ?? [];\n\n  const bestPrices = useMemo(() => {\n    const best: Record<string, number> = {};\n    bookmakers.forEach((bm: any) => {\n      bm.markets?.forEach((m: any) => {\n        if (m.key !== \"h2h\") return;\n        m.outcomes?.forEach((o: any) => {\n          if (!o?.name || typeof o.price !== \"number\") return;\n          if (!best[o.name] || o.price > best[o.name]) {\n            best[o.name] = o.price;\n          }\n        });\n      });\n    });\n    return best;\n  }, [bookmakers]);\n\n  const bestLines = useMemo(() => buildBestLines(bookmakers, [home, away]), [bookmakers, home, away]);\n  const fair = useMemo(() => computeFairProbabilities(bestPrices), [bestPrices]);\n\n  const homeEv = calcEvPercent(fair[home], bestLines[home]?.price ?? undefined);\n  const awayEv = calcEvPercent(fair[away], bestLines[away]?.price ?? undefined);\n  const evPercent = Math.max(homeEv ?? -Infinity, awayEv ?? -Infinity);\n\n  const arb = useMemo(() => calcArbBreakdown(bestPrices, STAKE_UNIT), [bestPrices]);\n  const arbPercent = arb?.profitPercent ?? null;\n  const guaranteedProfit = arbPercent ? (STAKE_UNIT * arbPercent) / 100 : null;\n\n  const lines = [away, home]\n    .map((team) => {\n      const line = bestLines[team];\n      if (!line) return null;\n      const stake = arb?.stakes?.[team];\n      return {\n        team,\n        bookmaker: line.bookmaker,\n        price: line.price,\n        american: decimalToAmerican(line.price),\n        stake: stake ?? null,\n      };\n    })\n    .filter(Boolean) as Array<{\n      team: string;\n      bookmaker: string;\n      price: number;\n      american: string;\n      stake: number | null;\n    }>;\n\n  return (\n    <article className=\"rounded-[26px] border border-white/8 bg-gradient-to-br from-[#1c1a24]/95 via-[#0d0c13]/95 to-[#050307]/95 p-5 text-sm shadow-[0_20px_45px_rgba(5,3,7,0.6)]\">\n      <header className=\"flex items-start justify-between gap-3\">\n        <div>\n          <p className=\"text-[11px] uppercase tracking-[0.35em] text-white/45\">\n            {game?.sport_title?.toUpperCase() ?? game?.sport_key ?? \"Matchup\"} Â· H2H\n          </p>\n          <h3 className=\"mt-2 text-lg font-semibold text-white\">\n            {away} @ {home}\n          </h3>\n          <p className=\"text-xs text-white/55\">{formatTime(game?.commence_time)}</p>\n        </div>\n        <div className=\"rounded-full bg-gradient-to-r from-[#ffd36f] to-[#f0922c] px-3 py-1 text-[11px] font-semibold text-black shadow-md shadow-[#fbd384]/40\">\n          ARB + EV\n        </div>\n      </header>\n\n      <div className=\"mt-4 grid grid-cols-2 gap-3 text-xs text-white/65 sm:grid-cols-4\">\n        <div>\n          <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/45\">EV %</p>\n          <p className=\"mt-1 text-base font-semibold text-amber-200\">\n            {Number.isFinite(evPercent) ? `${evPercent!.toFixed(2)}%` : \"--\"}\n          </p>\n        </div>\n        <div>\n          <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/45\">Arb %</p>\n          <p className=\"mt-1 text-base font-semibold text-amber-200\">\n            {arbPercent ? `${arbPercent.toFixed(2)}%` : \"--\"}\n          </p>\n        </div>\n        <div>\n          <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/45\">Guaranteed profit</p>\n          <p className=\"mt-1 text-base font-semibold text-white\">\n            {guaranteedProfit ? `$${guaranteedProfit.toFixed(2)}` : \"--\"}\n          </p>\n          <p className=\"text-[10px] text-white/40\">Simulated @ ${STAKE_UNIT}</p>\n        </div>\n        <div>\n          <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/45\">Stake</p>\n          <p className=\"mt-1 text-base font-semibold text-white\">\n            ${STAKE_UNIT.toFixed(0)}.00\n          </p>\n        </div>\n      </div>\n\n      <div className=\"mt-4 space-y-3\">\n        {lines.map((line) => (\n          <div\n            key={line.team}\n            className=\"rounded-2xl border border-white/5 bg-white/5/0 bg-gradient-to-r from-white/[0.06] to-transparent px-4 py-3 text-sm\"\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-[13px] font-semibold text-white\">\n                  {line.team} @ {line.american}\n                </p>\n                <p className=\"text-[11px] text-white/55\">{line.bookmaker}</p>\n              </div>\n              <div className=\"text-right text-[12px] text-white/70\">\n                <p>Stake {line.stake ? `$${line.stake.toFixed(2)}` : \"--\"}</p>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </article>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///Users/matthelfer/Documents/theplayersclub/app/components/OddsList.tsx"],"sourcesContent":["import GameCard from \"./GameCard\";\n\ntype OddsListProps = {\n  results: any[];\n};\n\nexport default function OddsList({ results }: OddsListProps) {\n  return (\n    <div className=\"mt-4 grid gap-5 md:grid-cols-2 xl:grid-cols-3\">\n      {results.map((game: any, idx: number) => (\n        <GameCard\n          key={\n            game.id ??\n            `${game.sport_key}-${game.home_team}-${game.away_team}-${idx}`\n          }\n          game={game}\n        />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAMe,SAAS,SAAS,EAAE,OAAO,EAAiB;IACzD,qBACE,8OAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC,MAAW,oBACvB,8OAAC,yIAAQ;gBAKP,MAAM;eAHJ,KAAK,EAAE,IACP,GAAG,KAAK,SAAS,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC,EAAE,KAAK;;;;;;;;;;AAO1E"}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file:///Users/matthelfer/Documents/theplayersclub/app/components/OpportunitiesView.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport SportTabs from \"./SportTabs\";\nimport OddsList from \"./OddsList\";\n\ntype OpportunitiesViewProps = {\n  initialResults: any[];\n};\n\nexport default function OpportunitiesView({\n  initialResults,\n}: OpportunitiesViewProps) {\n  const [results, setResults] = useState<any[]>(initialResults ?? []);\n  const [lastUpdated, setLastUpdated] = useState<Date | null>(\n    initialResults?.length ? new Date() : null\n  );\n  const [secondsToRefresh, setSecondsToRefresh] = useState(15);\n  const [activeSport, setActiveSport] = useState<string>(\"all\");\n\n  const API_URL = process.env.NEXT_PUBLIC_API_URL!;\n\n\n  // derive sports from data\n  const sports = useMemo(() => {\n    const map = new Map<string, string>();\n    for (const g of results ?? []) {\n      const key = g.sport_key ?? \"unknown\";\n      const label = g.sport_title ?? key.toUpperCase();\n      if (!map.has(key)) map.set(key, label);\n    }\n    return Array.from(map.entries()).map(([key, label]) => ({\n      key,\n      label,\n    }));\n  }, [results]);\n\n  const filteredResults = useMemo(() => {\n    if (activeSport === \"all\") return results;\n    return (results ?? []).filter(\n      (g: any) => g.sport_key === activeSport\n    );\n  }, [results, activeSport]);\n\n  // auto-refresh loop\n  useEffect(() => {\n    let cancelled = false;\n\n    async function refresh() {\n      try {\n        const res = await fetch(`${API_URL}/api/opportunities`);\n        if (!res.ok) return;\n        const json = await res.json();\n        if (!cancelled) {\n          setResults(json ?? []);\n          setLastUpdated(new Date());\n          setSecondsToRefresh(15);\n        }\n      } catch {\n        // keep last good data, user doesn't need to see the API crying\n      }\n    }\n\n    refresh();\n\n    const refreshTimer = setInterval(refresh, 15000);\n    const countdownTimer = setInterval(() => {\n      setSecondsToRefresh((s) => (s > 0 ? s - 1 : 0));\n    }, 1000);\n\n    return () => {\n      cancelled = true;\n      clearInterval(refreshTimer);\n      clearInterval(countdownTimer);\n    };\n  }, [API_URL]);\n\n  return (\n    <div className=\"space-y-5\">\n      {/* Top bar */}\n      <div className=\"flex flex-col gap-4 rounded-3xl border border-white/10 bg-white/5/0 bg-gradient-to-br from-white/4 via-white/2 to-transparent px-5 py-5 backdrop-blur-sm sm:flex-row sm:items-center sm:justify-between\">\n        <div className=\"space-y-1\">\n          <p className=\"text-[11px] uppercase tracking-[0.3em] text-white/60\">\n            Live Trading Desk\n          </p>\n          <h2 className=\"text-2xl font-semibold text-white\">\n            Arbitrage &amp; EV Opportunities\n          </h2>\n          <p className=\"text-sm text-white/60\">\n            Filter by sport, monitor real-time edges, and size your simulated stakes.\n          </p>\n        </div>\n\n        <div className=\"flex flex-col items-start text-xs text-white/65 sm:items-end\">\n          {lastUpdated && (\n            <span className=\"text-sm font-medium text-amber-200\">\n              Updated{\" \"}\n              {lastUpdated.toLocaleTimeString(undefined, {\n                hour: \"numeric\",\n                minute: \"2-digit\",\n                second: \"2-digit\",\n              })}\n            </span>\n          )}\n          <span className=\"text-[11px] text-white/45\">\n            Auto refresh in {secondsToRefresh}s\n          </span>\n        </div>\n      </div>\n\n      {/* Sport tabs */}\n      <SportTabs\n        activeSport={activeSport}\n        onChange={(sport) => setActiveSport(sport)}\n        sports={sports}\n      />\n\n      {/* Content */}\n      {filteredResults.length === 0 ? (\n        <div className=\"mt-4 rounded-3xl border border-dashed border-white/15 bg-white/5 px-6 py-8 text-center text-sm text-white/60\">\n          No opportunities right now. Either the books are sharp, or your\n          scraper is asleep.\n        </div>\n      ) : (\n        <OddsList results={filteredResults} />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUe,SAAS,kBAAkB,EACxC,cAAc,EACS;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAQ,kBAAkB,EAAE;IAClE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAC5C,gBAAgB,SAAS,IAAI,SAAS;IAExC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAS;IAEvD,MAAM;IAGN,0BAA0B;IAC1B,MAAM,SAAS,IAAA,gNAAO,EAAC;QACrB,MAAM,MAAM,IAAI;QAChB,KAAK,MAAM,KAAK,WAAW,EAAE,CAAE;YAC7B,MAAM,MAAM,EAAE,SAAS,IAAI;YAC3B,MAAM,QAAQ,EAAE,WAAW,IAAI,IAAI,WAAW;YAC9C,IAAI,CAAC,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,KAAK;QAClC;QACA,OAAO,MAAM,IAAI,CAAC,IAAI,OAAO,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,GAAK,CAAC;gBACtD;gBACA;YACF,CAAC;IACH,GAAG;QAAC;KAAQ;IAEZ,MAAM,kBAAkB,IAAA,gNAAO,EAAC;QAC9B,IAAI,gBAAgB,OAAO,OAAO;QAClC,OAAO,CAAC,WAAW,EAAE,EAAE,MAAM,CAC3B,CAAC,IAAW,EAAE,SAAS,KAAK;IAEhC,GAAG;QAAC;QAAS;KAAY;IAEzB,oBAAoB;IACpB,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAEhB,eAAe;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,kBAAkB,CAAC;gBACtD,IAAI,CAAC,IAAI,EAAE,EAAE;gBACb,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,CAAC,WAAW;oBACd,WAAW,QAAQ,EAAE;oBACrB,eAAe,IAAI;oBACnB,oBAAoB;gBACtB;YACF,EAAE,OAAM;YACN,+DAA+D;YACjE;QACF;QAEA;QAEA,MAAM,eAAe,YAAY,SAAS;QAC1C,MAAM,iBAAiB,YAAY;YACjC,oBAAoB,CAAC,IAAO,IAAI,IAAI,IAAI,IAAI;QAC9C,GAAG;QAEH,OAAO;YACL,YAAY;YACZ,cAAc;YACd,cAAc;QAChB;IACF,GAAG;QAAC;KAAQ;IAEZ,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAuD;;;;;;0CAGpE,8OAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAGlD,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAKvC,8OAAC;wBAAI,WAAU;;4BACZ,6BACC,8OAAC;gCAAK,WAAU;;oCAAqC;oCAC3C;oCACP,YAAY,kBAAkB,CAAC,WAAW;wCACzC,MAAM;wCACN,QAAQ;wCACR,QAAQ;oCACV;;;;;;;0CAGJ,8OAAC;gCAAK,WAAU;;oCAA4B;oCACzB;oCAAiB;;;;;;;;;;;;;;;;;;;0BAMxC,8OAAC,0IAAS;gBACR,aAAa;gBACb,UAAU,CAAC,QAAU,eAAe;gBACpC,QAAQ;;;;;;YAIT,gBAAgB,MAAM,KAAK,kBAC1B,8OAAC;gBAAI,WAAU;0BAA+G;;;;;qCAK9H,8OAAC,yIAAQ;gBAAC,SAAS;;;;;;;;;;;;AAI3B"}},
    {"offset": {"line": 665, "column": 0}, "map": {"version":3,"sources":["file:///Users/matthelfer/Documents/theplayersclub/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":["file:///Users/matthelfer/Documents/theplayersclub/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 689, "column": 0}, "map": {"version":3,"sources":["file:///Users/matthelfer/Documents/theplayersclub/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}