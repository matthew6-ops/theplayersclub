{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/matthelfer/Documents/theplayersclub/app/api/odds/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nexport async function GET(req: Request) {\n  const { searchParams } = new URL(req.url);\n  const sport = searchParams.get(\"sport\") || \"\";\n\n  if (!sport) {\n    return NextResponse.json(\n      { error: \"Missing sport parameter\" },\n      { status: 400 }\n    );\n  }\n\n  const apiKey = process.env.ODDS_API_KEY;\n\n  if (!apiKey) {\n    return NextResponse.json(\n      { error: \"ODDS_API_KEY missing\" },\n      { status: 500 }\n    );\n  }\n\n  const markets = \"h2h,spreads,totals\";\n\n  const url = `https://api.the-odds-api.com/v4/sports/${sport}/odds?apiKey=${apiKey}&regions=us&markets=${markets}&oddsFormat=decimal&bookmakers=draftkings,fanduel,betmgm,caesars`;\n\n  try {\n    const res = await fetch(url, { cache: \"no-store\" });\n\n    if (!res.ok) {\n      const msg = await res.text();\n      return NextResponse.json(\n        { error: \"API request failed\", details: msg },\n        { status: 500 }\n      );\n    }\n\n    const data = await res.json();\n    return NextResponse.json({ sport, odds: data });\n  } catch (err: any) {\n    return NextResponse.json(\n      { error: \"Unexpected error\", details: err.message },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,GAAY;IACpC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IACxC,MAAM,QAAQ,aAAa,GAAG,CAAC,YAAY;IAE3C,IAAI,CAAC,OAAO;QACV,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA0B,GACnC;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,YAAY;IAEvC,IAAI,CAAC,QAAQ;QACX,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuB,GAChC;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,UAAU;IAEhB,MAAM,MAAM,CAAC,uCAAuC,EAAE,MAAM,aAAa,EAAE,OAAO,oBAAoB,EAAE,QAAQ,gEAAgE,CAAC;IAEjL,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,KAAK;YAAE,OAAO;QAAW;QAEjD,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,MAAM,MAAM,IAAI,IAAI;YAC1B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;gBAAsB,SAAS;YAAI,GAC5C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;YAAO,MAAM;QAAK;IAC/C,EAAE,OAAO,KAAU;QACjB,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;YAAoB,SAAS,IAAI,OAAO;QAAC,GAClD;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}